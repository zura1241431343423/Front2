<div class="newly-added-container">
  <div class="header">
    <h2 class="title">
      <svg class="title-icon"
      
      xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M3 20q-.825 0-1.412-.587T1 18V6q0-.825.588-1.412T3 4h18q.825 0 1.413.588T23 6v12q0 .825-.587 1.413T21 20zm1.75-8.5l2.375 3.25q.075.125.2.188T7.6 15h.3q.25 0 .425-.175T8.5 14.4V9.625q0-.275-.175-.45T7.875 9t-.45.175t-.175.45V12.5L4.925 9.25q-.1-.125-.225-.187T4.425 9h-.3q-.275 0-.45.175t-.175.45v4.75q0 .275.175.45t.45.175t.45-.175t.175-.45zM10 15h2.875q.275 0 .45-.175t.175-.45t-.175-.45t-.45-.175H11v-1.1h1.875q.275 0 .45-.175t.175-.45t-.175-.45t-.45-.175H11v-1.15h1.875q.275 0 .45-.175t.175-.45t-.175-.45t-.45-.175H10q-.2 0-.35.15t-.15.35v5q0 .2.15.35T10 15m5.5 0h4q.425 0 .713-.288T20.5 14V9.625q0-.275-.175-.45T19.875 9t-.45.175t-.175.45V13.5h-1.1v-2.875q0-.275-.175-.45t-.45-.175t-.45.175t-.175.45V13.5h-1.15V9.625q0-.275-.175-.45T15.125 9t-.45.175t-.175.45V14q0 .425.288.713T15.5 15"/></svg>
      Newly Added Products
    </h2>
    <div class="navigation-controls">
      <button
        class="nav-btn prev-btn"
        (click)="scrollLeft()"
        [disabled]="!canScrollLeft"
        [class.disabled]="!canScrollLeft"
      >
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
        </svg>
      </button>
      <button
        class="nav-btn next-btn"
        (click)="scrollRight()"
        [disabled]="!canScrollRight"
        [class.disabled]="!canScrollRight"
      >
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
        </svg>
      </button>
    </div>
  </div>

  <div class="products-wrapper">
    <div
      #scrollContainer
      class="products-scroll-container"
      (scroll)="onScroll()"
    >
      <div class="products-grid">
        @if (isLoading) {
        <div class="loading-container">
          <div class="loading-spinner"></div>
          <p>Loading newly added products...</p>
        </div>
        } @else if (newlyAddedProducts.length === 0) {
        <div class="empty-state">
          <p>No newly added products found</p>
        </div>
        } @else { @for (product of newlyAddedProducts; track product.id) {
        <div class="product-card-wrapper">
          <app-card
            [product]="product"
            (ratingChanged)="onRatingChanged($event)"
          >
          </app-card>
        </div>
        } }
      </div>
    </div>
  </div>
</div>